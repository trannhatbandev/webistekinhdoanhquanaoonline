<!-- Support Area Start Here -->
<div class="support-area bdr-top">
    <div class="container">
        <div class="d-flex flex-wrap text-center">
            <div class="single-support">
                <div class="support-icon">
                    <i class="lnr lnr-gift"></i>
                </div>
                <div class="support-desc">
                    <h6>Giá trị lớn</h6>
                    <span>Giá trị đi kèm thương hiệu</span>
                </div>
            </div>
            <div class="single-support">
                <div class="support-icon">
                    <i class="lnr lnr-rocket"></i>
                </div>
                <div class="support-desc">
                    <h6>Vận chuyển toàn cầu</h6>
                    <span>Hỗ trợ vận chuyển hầu hết trong nước và ngoài nước</span>
                </div>
            </div>
            <div class="single-support">
                <div class="support-icon">
                    <i class="lnr lnr-lock"></i>
                </div>
                <div class="support-desc">
                    <h6>Thanh toán an toàn</h6>
                    <span>Bảo mật là trên hết</span>
                </div>
            </div>
            <div class="single-support">
                <div class="support-icon">
                    <i class="lnr lnr-enter-down"></i>
                </div>
                <div class="support-desc">
                    <h6>Tự tin mua sắm</h6>
                    <span>Uy tín đặt lên hàng đầu</span>
                </div>
            </div>
            <div class="single-support">
                <div class="support-icon">
                    <i class="lnr lnr-users"></i>
                </div>
                <div class="support-desc">
                    <h6>Trung tâm trợ giúp 24/7</h6>
                    <span>Chăm sóc khách hàng chu đáo nhiệt tình</span>
                </div>
            </div>
        </div>
    </div>
    <!-- Container End -->
</div>
<!-- Support Area End Here -->
<!-- Footer Area Start Here -->
<footer class="off-white-bg2 pt-95 bdr-top pt-sm-55">
    <!-- Footer Top Start -->
    <div class="footer-top">
        <div class="container">
            <!-- Signup Newsletter Start -->
            <div class="row mb-60">
                <div class="col-xl-7 col-lg-7 ml-auto mr-auto col-md-8">
                    <div class="news-desc text-center mb-30">
                        <h3>Đăng ký để nhận những khuyến mãi mới nhấ</h3>
                        <p>Ngay ngày hôm nay những ưu đãi cực hấp dẫn khi bạn là thành viên của chúng tôi</p>
                    </div>
                    <div class="newsletter-box">
                        <form action="#">
                            <input class="subscribe" placeholder="Địa chỉ email" name="email" id="subscribe" type="text">
                            <button type="submit" class="submit">Đăng ký!</button>
                        </form>
                    </div>
                </div>
            </div>
            <!-- Signup-Newsletter End -->
            <div class="row">
                <!-- Single Footer Start -->
                <div class="col-lg-2 col-md-4 col-sm-6">
                    <div class="single-footer mb-sm-40">
                        <h3 class="footer-title">Thông tin</h3>
                        <div class="footer-content">
                            <ul class="footer-list">
                                <li><a href="about.html">Về chúng tôi</a></li>
                                <li><a href="#">Thông tin giao hàng</a></li>
                                <li><a href="#">Chính sách bảo mật</a></li>
                                <li><a href="contact.html">Điều khoản và điều kiện</a></li>
                                <li><a href="login.html">Câu hỏi thường gặp</a></li>
                                <li><a href="login.html">Chính sách hoàn trả</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- Single Footer Start -->
                <!-- Single Footer Start -->
                <div class="col-lg-2 col-md-4 col-sm-6">
                    <div class="single-footer mb-sm-40">
                        <h3 class="footer-title">Dịch vụ khách hàng</h3>
                        <div class="footer-content">
                            <ul class="footer-list">
                                <li><a href="contact.html">Liên hệ chúng tôi</a></li>
                                <li><a href="#">Lợi nhuận</a></li>
                                <li><a href="#">Lịch sử đơn hàng</a></li>
                                <li><a href="wishlist.html">Danh sách mong muốn</a></li>
                                <li><a href="#">Sơ đồ trang web</a></li>
                                <li><a href="#">Phiếu quà tặng</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- Single Footer Start -->
                <!-- Single Footer Start -->
                <div class="col-lg-2 col-md-4 col-sm-6">
                    <div class="single-footer mb-sm-40">
                        <h3 class="footer-title">Bổ sung</h3>
                        <div class="footer-content">
                            <ul class="footer-list">
                                <li><a href="#">Tin tức</a></li>
                                <li><a href="#">Thương hiệu</a></li>
                                <li><a href="#">Phiếu quà tặng</a></li>
                                <li><a href="#">Chi nhánh</a></li>
                                <li><a href="#">Đặc biệt</a></li>
                                <li><a href="#">Sơ đồ trang web</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- Single Footer Start -->
                <!-- Single Footer Start -->
                <div class="col-lg-2 col-md-4 col-sm-6">
                    <div class="single-footer mb-sm-40">
                        <h3 class="footer-title">Tài khoản của tôi</h3>
                        <div class="footer-content">
                            <ul class="footer-list">
                                <li><a href="contact.html">Liên hệ chúng tôi</a></li>
                                <li><a href="#">Lợi nhuận</a></li>
                                <li><a href="#">Tài khoản của tôi</a></li>
                                <li><a href="#">Lịch sử đơn hàng</a></li>
                                <li><a href="wishlist.html">Danh sách mong muốn</a></li>
                                <li><a href="#">Tin tức</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- Single Footer Start -->
                <!-- Single Footer Start -->
                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="single-footer mb-sm-40">
                        <h3 class="footer-title">Tài khoản của tôi</h3>
                        <div class="footer-content">
                            <ul class="footer-list address-content">
                                <li><i class="lnr lnr-map-marker"></i> Địa chỉ: Hóc môn, Bà điểm, TP.HCM</li>
                                <li><i class="lnr lnr-envelope"></i><a href="#"> Email kiên hệ: trannhatban34@gmail.com </a></li>
                                <li>
                                    <i class="lnr lnr-phone-handset"></i> Phone: 0978119953
                                </li>
                            </ul>
                            <div class="payment mt-25 bdr-top pt-30">
                                <a href="#"><img class="img" src="{{asset('public/frontend/img/payment/1.png')}}" alt="payment-image"></a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Single Footer Start -->
            </div>
            <!-- Row End -->
        </div>
        <!-- Container End -->
    </div>
    <!-- Footer Top End -->
    <!-- Footer Middle Start -->
    <div class="footer-middle text-center">
        <div class="container">
            <div class="footer-middle-content pt-20 pb-30">
                <ul class="social-footer">
                    <li><a href="https://www.facebook.com/"><i class="fa fa-facebook"></i></a></li>
                    <li><a href="https://twitter.com/"><i class="fa fa-twitter"></i></a></li>
                    <li><a href="https://plus.google.com/"><i class="fa fa-google-plus"></i></a></li>
                    <li><a href="https://www.linkedin.com/"><i class="fa fa-linkedin"></i></a></li>
                    <li><a href="#"><img src="{{asset('public/frontend/img/icon/social-img1.png')}}" alt="google play"></a></li>
                    <li><a href="#"><img src=""{{asset('public/frontend/img/icon/social-img2.png')}}" alt="app store"></a></li>
                </ul>
            </div>
        </div>
        <!-- Container End -->
    </div>
    <!-- Footer Middle End -->
    <!-- Footer Bottom Start -->
    <div class="footer-bottom pb-30">
        <div class="container">

            {{--                <div class="copyright-text text-center">--}}
            {{--                    <p>Copyright © 2018 <a target="_blank" href="#">Truemart</a> All Rights Reserved.</p>--}}
            {{--                </div>--}}
        </div>
        <!-- Container End -->
    </div>
    <!-- Footer Bottom End -->
</footer>
<!-- Footer Area End Here -->
<!-- Quick View Content Start -->
<div class="main-product-thumbnail quick-thumb-content">
    <div class="container">
        <!-- The Modal -->
        <div class="modal fade" id="quick_view">
            <div class="modal-dialog modal-lg modal-dialog-centered">
                <div class="modal-content">
                    <!-- Modal Header -->
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                    </div>
                    <!-- Modal body -->
                    <div class="modal-body">
                        <div class="row">
                            <!-- Main Thumbnail Image Start -->
                            <div class="col-lg-5 col-md-6 col-sm-5">
                                <!-- Thumbnail Large Image start -->
                                <div id="thumb-1-quick-view" class="tab-content">
                                </div>
                                <!-- Thumbnail Large Image End -->
                                <!-- Thumbnail Image End -->
                                <div class="product-thumbnail mt-20">
                                    <div class="thumb-menu owl-carousel nav tabs-area" role="tablist">
{{--                                        <a class="active" data-toggle="tab" href="#thumb-1-quick-view"><img src="{{asset('public/uploads/products/buy-156.png')}}" alt="product-thumbnail"></a>--}}
{{--                                        <a data-toggle="tab" href="#thumb-2"><img src="img\products\13.jpg" alt="product-thumbnail"></a>--}}
{{--                                        <a data-toggle="tab" href="#thumb-3"><img src="img/products/15.jpg" alt="product-thumbnail"></a>--}}
{{--                                        <a data-toggle="tab" href="#thumb-4"><img src="img/products/4.jpg" alt="product-thumbnail"></a>--}}
{{--                                        <a data-toggle="tab" href="#thumb-5"><img src="img/products/5.jpg" alt="product-thumbnail"></a>--}}
                                    </div>
                                </div>
                                <!-- Thumbnail image end -->
                            </div>
                            <!-- Main Thumbnail Image End -->
                            <!-- Thumbnail Description Start -->
                            <form action="" method="POST">
                                @csrf
                                <div id="quick-view-cart"></div>
                                <div class="col-lg-12 col-md-12 col-sm-12">
                                    <div class="thubnail-desc fix mt-sm-60">
                                        <h3 id="product_name" class="product-header"></h3>
                                        <div class="pro-price mtb-40">
                                            <p class="d-flex align-items-center"><span id="prev-price-quick-view" class="prev-price"></span><span id="price-quick-view" class="price"></span><span class="saving-price">Giảm 8%</span></p>
                                        </div>
                                        <p id="product_description_quick_view" class="mb-20 pro-desc-details"></p>
                                        <section class="product-detail">
                                                <div class="detail">
                                                    <div class="options">
                                                        <h2>Size</h2>
                                                        <div class="capacity btn_grid">
                                                            <div class="btn_wrap" id="size-first-quick-view">
                                                            </div>
                                                                <div class="btn_wrap" id="size-quick-view">
                                                                </div>
                                                        </div>
                                                        <h2>Màu</h2>
                                                        <div class="colours btn_grid">
                                                            <div class="btn_wrap" id="color-first-quick-view">
                                                            </div>
                                                            <div class="btn_wrap" id="color-quick-view">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </section>
                                        <div class="box-quantity d-flex">
                                                <input class="quantity mr-40" type="number" min="1" value="1">
                                        </div>
                                        <div id="button-quick-view"></div>
                                        <div class="pro-ref mt-15">
                                            <p><span class="in-stock"><i class="ion-checkmark-round"></i>Còn hàng</span></p>
                                        </div>
                                    </div>
                                </div>
                            </form>
                            <!-- Thumbnail Description End -->
                        </div>
                    </div>
                    <!-- Modal footer -->
                    <div class="custom-footer">
                        <div class="socila-sharing">
                            <ul class="d-flex">
                                <li>share</li>
                                <li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                                <li><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                                <li><a href="#"><i class="fa fa-google-plus-official" aria-hidden="true"></i></a></li>
                                <li><a href="#"><i class="fa fa-pinterest-p" aria-hidden="true"></i></a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Quick View Content End -->
</div>
<!-- Main Wrapper End Here -->

<!-- jquery 3.2.1 -->
<script src="{{asset('public/frontend/js/vendor/jquery-3.2.1.min.js')}}"></script>
<script src="{{asset('public/frontend/js/vendor/main.js')}}"></script>
<!-- Countdown js -->
<script src="{{asset('public/frontend/js/jquery.countdown.min.js')}}"></script>
<!-- Mobile menu js -->
<script src="{{asset('public/frontend/js/jquery.meanmenu.min.js')}}"></script>
<!-- ScrollUp js -->
<script src="{{asset('public/frontend/js/jquery.scrollUp.js')}}"></script>
<!-- Nivo slider js -->
<script src="{{asset('public/frontend/js/jquery.nivo.slider.js')}}"></script>
<!-- Fancybox js -->
<script src="{{asset('public/frontend/js/jquery.fancybox.min.js')}}"></script>
<!-- Jquery nice select js -->
<script src="{{asset('public/frontend/js/jquery.nice-select.min.js')}}"></script>
<!-- Jquery ui price slider js -->
<script src="{{asset('public/frontend/js/jquery-ui.min.js')}}"></script>
<!-- Owl carousel -->
<script src="{{asset('public/frontend/js/owl.carousel.min.js')}}"></script>
<!-- Bootstrap popper js -->
<script src="{{asset('public/frontend/js/popper.min.js')}}"></script>
<!-- Bootstrap js -->
<script src="{{asset('public/frontend/js/bootstrap.min.js')}}"></script>
<!-- Plugin js -->
<script src="{{asset('public/frontend/js/plugins.js')}}"></script>
<script src="{{asset('public/frontend/js/bootstrap-select.min.js')}}"></script>
<script src="{{asset('public/frontend/js/bootstrap.min.js')}}"></script>
<script src="{{asset('public/frontend/js/bootstrap-hover-dropdown.min.js')}}"></script>
<script src="{{asset('public/frontend/js/bootstrap-slider.min.js')}}"></script>
<!-- Main activaion js -->
<script src="{{asset('public/frontend/js/main.js')}}"></script>
<script src="{{asset('public/frontend/sweetalert/sweetalert.min.js')}}"></script>
<div id="fb-root"></div>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/vi_VN/sdk.js#xfbml=1&version=v14.0&appId=376696421191315&autoLogAppEvents=1" nonce="sQTs5G6H"></script>
<script type="text/javascript">
    $(document).ready(function(){
        $('.add-to-cart').click(function(){
            var id = $(this).data('id_product');
            var cart_product_id = $('.cart_product_id_' + id).val();
            var cart_product_name = $('.cart_product_name_' + id).val();
            var cart_product_image = $('.cart_product_image_' + id).val();
            var cart_product_price = $('.cart_product_price_' + id).val();
            var cart_product_qty = $('.cart_product_qty_' + id).val();
            var _token = $('input[name="_token"]').val();
            $.ajax({
                url: '{{url("/home/cart/add-cart")}}',
                method: 'POST',
                data:{cart_product_id:cart_product_id,cart_product_name:cart_product_name,cart_product_image:cart_product_image,cart_product_price:cart_product_price,cart_product_qty:cart_product_qty,_token:_token},
                success:function(){
                    swal({
                            title: "Đã thêm sản phẩm vào giỏ hàng",
                            text: "Bạn có thể mua hàng tiếp hoặc tới giỏ hàng để tiến hành thanh toán",
                            showCancelButton: true,
                            cancelButtonText: "Xem tiếp",
                            confirmButtonClass: "btn-success",
                            confirmButtonText: "Đi đến giỏ hàng",
                            closeOnConfirm: false
                        },function() {
                            window.location.href = "{{url('/home/cart/show-cart')}}";
                        }
                    );
                },error: function(xhr, status, error) {
                            alert('Sản phẩm này chưa có size và màu sắc Hoặc Đã hết hàng');
                }
            });

        });

    });
</script>
<script type="text/javascript">
   window.onload = function () {
    const colour_btn_els = document.querySelectorAll(".colours .colour");
    const capacity_btn_els = document.querySelectorAll(".capacity .size");
    for (let i = 0; i < capacity_btn_els.length; i++) {
        let btn = capacity_btn_els[i];

        let btnfirst = capacity_btn_els[0];
        $(btn).on("click", function () {
            document
                .querySelector(".capacity .size.selected")
                .classList.remove("selected");
            this.classList.add("selected");
            let color = "";
            let size = btn.value;

            $('button').each(function(){
                if($(this).hasClass('select')){
                    color = $(this).val();
                 }
            });

            let product_id = $(btn).data('product_id');


            var _token = $('input[name="_token"]').val();
            $.ajax({
                url: '{{url("/home/product-detail/check-the-amount-inventory")}}',
                method: 'POST',
                data:{size:size,color:color,product_id:product_id, _token:_token},
                success:function(data){
                    $('#in-stock').html(data);
                }
            });
        });
    }

    for (let i = 0; i < colour_btn_els.length; i++) {
        let btn = colour_btn_els[i];
        let btnfirst = colour_btn_els[0];
        btn.addEventListener("click", function () {
            document
                .querySelector(".colours .colour.select")
                .classList.remove("select");
            this.classList.add("select");
            let size = "";
            let color = btn.value;

            $('button').each(function(){
                if($(this).hasClass('selected')){
                    size = $(this).val();
                 }
            });

            let product_id = $(btn).data('product_id');


            var _token = $('input[name="_token"]').val();
            $.ajax({
                url: '{{url("/home/product-detail/check-the-amount-inventory")}}',
                method: 'POST',
                data:{size:size,color:color,product_id:product_id, _token:_token},
                success:function(data){
                    $('#in-stock').html(data);
                }
            });
        });
    }

};
</script>

<script type="text/javascript">
    $(document).ready(function(){
        hoverCartProduct();
        countQuantityCart();
        function countQuantityCart(){
            $.ajax({
                url: '{{url("/home/cart/count-quantity-cart")}}',
                method: 'GET',
                success:function(data){
                    $('#count-quantity-cart').html(data);
                }
            });
        }
        function hoverCartProduct(){
            $.ajax({
                url: '{{url("/home/cart/hover-cart-product")}}',
                method: 'GET',
                success:function(data){
                    $('.hover-cart-product').html(data);
                }
            });
        }

        $('.add-to-cart-detail').click(function(){
            var id = $(this).data('id_product');
            var cart_product_id = $('.cart_product_id_' + id).val();
            var cart_product_name = $('.cart_product_name_' + id).val();
            var cart_product_image = $('.cart_product_image_' + id).val();
            var cart_product_price = $('.cart_product_price_' + id).val();
            var cart_product_qty = $('.cart_product_qty_' + id).val();
            var _token = $('input[name="_token"]').val();

            const colour_btn_els = document.querySelectorAll(".colours .colour");
            const capacity_btn_els = document.querySelectorAll(".capacity .size");

            var size = "";

            for (let i = 0; i <= capacity_btn_els.length; i++) {
                let btn = capacity_btn_els[i];
                if($(btn).hasClass('selected')){
                    size =btn.value;
                }
            }

            var color = "";
            for (let i = 0; i < colour_btn_els.length; i++) {
                let btn = colour_btn_els[i];

                if($(btn).hasClass('select')){
                    color =btn.value;
                }

            }
            $.ajax({
                url: '{{url('/home/cart/add-cart-detail')}}',
                method: 'POST',
                data:{size:size,color:color,cart_product_id:cart_product_id,cart_product_name:cart_product_name,cart_product_image:cart_product_image,cart_product_price:cart_product_price,cart_product_qty:cart_product_qty,_token:_token},
                success:function(data){
                    if(data == 'Lỗi'){
                        alert('Số lượng sản phẩm bạn đặt quá lớn bạn vui lòng liên hệ với nhà cung cấp để được đặt hàng');
                    }else{
                        swal({
                            title: "Đã thêm sản phẩm vào giỏ hàng",
                            text: "Bạn có thể mua hàng tiếp hoặc tới giỏ hàng để tiến hành thanh toán",
                            showCancelButton: true,
                            cancelButtonText: "Xem tiếp",
                            confirmButtonClass: "btn-success",
                            confirmButtonText: "Đi đến giỏ hàng",
                            closeOnConfirm: false
                        },function() {
                            window.location.href = "{{url('/home/cart/show-cart')}}";
                        });
                        countQuantityCart();
                        hoverCartProduct();
                    }

                },error: function(xhr, status, error) {
                    alert('Bạn chưa chọn size hoặc màu sắc cho sản phẩm');
                }
            });

        });

    });
</script>
<script type="text/javascript">
    countOrder()
     function countOrder(){
            $.ajax({
                url: '{{url("/home/count-order")}}',
                method: 'GET',
                success:function(data){
                    $('.count-order').html(data);
                }
            });
        }
</script>
<script type="text/javascript">
        $(document).on('click','.add-cart-quick-view',function(){
            var id = $(this).data('id_product');
            var cart_product_id = $('.cart_product_id_' + id).val();
            var cart_product_name = $('.cart_product_name_' + id).val();
            var cart_product_image = $('.cart_product_image_' + id).val();
            var cart_product_price = $('.cart_product_price_' + id).val();
            var cart_product_qty = $('.cart_product_qty_' + id).val();
            var _token = $('input[name="_token"]').val();
            $.ajax({
                url: '{{url('/home/cart/add-cart')}}',
                method: 'POST',
                data:{cart_product_id:cart_product_id,cart_product_name:cart_product_name,cart_product_image:cart_product_image,cart_product_price:cart_product_price,cart_product_qty:cart_product_qty,_token:_token},
                success:function(){
                    swal({
                            title: "Đã thêm sản phẩm vào giỏ hàng",
                            text: "Bạn có thể mua hàng tiếp hoặc tới giỏ hàng để tiến hành thanh toán",
                            showCancelButton: true,
                            cancelButtonText: "Xem tiếp",
                            confirmButtonClass: "btn-success",
                            confirmButtonText: "Đi đến giỏ hàng",
                            closeOnConfirm: false
                        },function() {
                            window.location.href = "{{url('/home/cart/show-cart')}}";
                        }
                    );
                }

            });

        });
</script>
<script type="text/javascript">
      function showWistList(){
            if(localStorage.getItem('data')!=null){
                let data_wishlist = JSON.parse(localStorage.getItem('data'));

                for(i=0;i<data_wishlist.length;i++){
                    let product_id = data_wishlist[i].product_id;
                    let product_name  = data_wishlist[i].product_name;
                    let product_price  = data_wishlist[i].product_price;
                    let product_image  = data_wishlist[i].product_image;
                    let product_image_ok = data_wishlist[i].product_image_ok;
                    let product_url = data_wishlist[i].product_url;

                    $('#whist-list-hidden').append('<input type="hidden" value="'+product_id+'" class="cart_product_id_'+product_id+'"><input type="hidden" value="'+product_name+'" class="cart_product_name_'+product_id+'"><input type="hidden" value="'+product_image_ok+'" class="cart_product_image_'+product_id+'"><input type="hidden" value="'+product_price+'"class="cart_product_price_'+product_id+'"><input type="hidden" value="1" class="cart_product_qty_'+product_id+'">');
                    $('#wist-list-table').append('<tr><td class="product-remove"> <a class="remove-whist-list" data-product_id ="'+i+'"><i class="fa fa-times" aria-hidden="true"></i></a></td><td class="product-thumbnail"><a><img src="'+product_image+'" alt="cart-image"></a></td><td class="product-name"><a href="'+product_url+'">'+product_name+'</a></td><td class="product-price"><span class="amount">'+product_price+'</span></td><td class="product-stock-status"><span>Còn hàng</span></td><td class="product-add-to-cart"><button class="add-to-cart" data-id_product="'+product_id+'" type="button">Thêm giỏ hàng</button></td></tr>');
                }
                $('.count-whistlist').append('('+data_wishlist.length+')');
            }
        }
        showWistList();
</script>
<script type="text/javascript">
        $(document).on('click','.remove-whist-list',function(){
            let  id = $(this).data('product_id');
            let data_wishlist = JSON.parse(localStorage.getItem('data'));

            data_wishlist.splice(id,1);

            localStorage.setItem('data',JSON.stringify(data_wishlist));

            location.reload();
        });
</script>
<script type="text/javascript">

    $(document).on('click','.add-whist-list',function(){
        let  product_id = $(this).data('id');
        // let  product_id = id;
        let  product_name = document.getElementById('wistlist_product_name'+product_id).value;
        let  product_image_ok = document.getElementById('wistlist_product_image_ok'+product_id).value;
        let  product_image = document.getElementById('wistlist_product_image'+product_id).src;
        let  product_price = document.getElementById('wistlist_product_price'+product_id).value;
        let  product_url = document.getElementById('wistlist_product_chitiet'+product_id).href;

        let item = {
            'product_id': product_id,
            'product_name': product_name,
            'product_image': product_image,
            'product_image_ok': product_image_ok,
            'product_price' : product_price,
            'product_url' : product_url
        }

        if(localStorage.getItem('data')==null){
            localStorage.setItem('data','[]');
        }

        let data = JSON.parse(localStorage.getItem('data'));

        let compare = $.grep(data, function(obj) {
            return obj.product_id == product_id;
        });

        if(compare.length){
            alert('Sản phẩm này bạn đã yêu thích, không thể thêm');
        }else{
            data.push(item);

        }
        localStorage.setItem('data', JSON.stringify(data));

        if(localStorage.getItem('data')!=null){

            let data_wishlist = JSON.parse(localStorage.getItem('data'));
            let _token = $('input[name="_token"]').val();
            $.ajax({
                url: '{{url('/home/add-whistlist')}}',
                method: 'POST',
                data:{data_wishlist:data_wishlist,_token:_token},
                success:function(data){
                    swal({
                            title: "Đã thêm sản phẩm vào yêu thích",
                            text: "Bạn có thể thêm sản phẩm vào danh sách yêu thích hoặc tới trang yêu thích",
                            showCancelButton: true,
                            cancelButtonText: "Xem tiếp",
                            confirmButtonClass: "btn-success",
                            confirmButtonText: "Đi đến danh sách sản phẩm yêu thích",
                            closeOnConfirm: false
                        },function() {
                            window.location.href = "{{url('/home/wistList')}}";
                        }
                    );
                }
            });
        }
    });
</script>
<script type="text/javascript">
        showViewdProduct();
        function showViewdProduct(){
          if(localStorage.getItem('viewdProduct')!=null){
              let data = JSON.parse(localStorage.getItem('viewdProduct'));

              data.reverse();

              document.getElementById('viewed-products').style.overflow = 'scroll';
              document.getElementById('viewed-products').style.height = '500px';

              for(i=0;i<data.length;i++){
                  let product_id = data[i].product_id;
                  let product_name  = data[i].product_name;
                  let product_price  = data[i].product_price;
                  let product_image  = data[i].product_image;
                  let product_image_ok = data[i].product_image_ok;
                  let product_url = data[i].product_url;

                  $('#viewed-products-hidden').append('<input type="hidden" value="'+product_id+'" class="cart_product_id_'+product_id+'"><input type="hidden" value="'+product_name+'" class="cart_product_name_'+product_id+'"><input type="hidden" value="'+product_image_ok+'" class="cart_product_image_'+product_id+'"><input type="hidden" value="'+product_price+'"class="cart_product_price_'+product_id+'"><input type="hidden" value="1" class="cart_product_qty_'+product_id+'">');
                  $('#viewed-products').append('<div class="row" style="margin:10px 0"><div class="col-md-4"><img width="100%" src="'+product_image+'"></div><div class="col-md-8"><p>'+product_name+'</p><p style="color:red">'+product_price+'</p><p><a style="cursor:pointer; color:white" data-id_product="'+product_id+'" class="btn btn-primary add-to-cart"> + Thêm giỏ hàng</a></p></div></div>');

              }

          }
      }
    viewdProduct()
    function viewdProduct(){
        let  product_id = $('#viewed-products-id').val();
        if(product_id!= undefined){
            let  product_name = document.getElementById('viewed-products-name'+product_id).value;
        let  product_image_ok = document.getElementById('viewed-products-image-ok'+product_id).value;
        let  product_image = document.getElementById('viewed-products-image'+product_id).value;
        let  product_price = document.getElementById('viewed-products-price'+product_id).value;
        let  product_url = document.getElementById('viewed-products-url'+product_id).value;

        let item = {
            'product_id': product_id,
            'product_name': product_name,
            'product_image': product_image,
            'product_image_ok': product_image_ok,
            'product_price' : product_price,
            'product_url' : product_url
        }

        if(localStorage.getItem('viewdProduct')==null){
            localStorage.setItem('viewdProduct','[]');
        }

        let data = JSON.parse(localStorage.getItem('viewdProduct'));

        let compare = $.grep(data, function(obj) {
            return obj.product_id == product_id;
        });

        if(compare.length){

        }else{
            data.push(item);

            $('#viewed-products').append('<div class="row" style="margin:10px 0"><div class="col-md-4"><img width="100%" src="'+item.product_image+'"></div><div class="col-md-8"><p>'+item.product_name+'</p><p style="color:red">'+item.product_price+'</p></div></div>');
        }
        localStorage.setItem('viewdProduct', JSON.stringify(data));
        }


    }
</script>
<script type="text/javascript">
    function showCompareProduct(){
          if(localStorage.getItem('dataCompare')!=null){
              let dataCompare = JSON.parse(localStorage.getItem('dataCompare'));

              for(i=0;i<dataCompare.length;i++){
                  let product_id = dataCompare[i].product_id;
                  let product_name  = dataCompare[i].product_name;
                  let product_price  = dataCompare[i].product_price;
                  let product_image  = dataCompare[i].product_image;
                  let product_image_ok = dataCompare[i].product_image_ok;
                  let product_url = dataCompare[i].product_url;

                  $('#compare-product-hidden').append('<input type="hidden" value="'+product_id+'" class="cart_product_id_'+product_id+'"><input type="hidden" value="'+product_name+'" class="cart_product_name_'+product_id+'"><input type="hidden" value="'+product_image_ok+'" class="cart_product_image_'+product_id+'"><input type="hidden" value="'+product_price+'"class="cart_product_price_'+product_id+'"><input type="hidden" value="1" class="cart_product_qty_'+product_id+'">');
                  $('#show-product-name-compare').append('<td class="product-description"><div class="compare-details" ><div class="compare-detail-img"><a href="#"><img style="width=100px;height:225px;" src="'+product_image+'" alt="So sánh sản phẩm"></a></div><div class="compare-detail-content"><h4 style="text-align:center; padding-top:10px;"><a href="'+product_url+'">'+product_name+'</a></h4></div></div></td>');
                  $('#show-product-description-compare').append('<td class="product-description"><p></p></td>');
                  $('#show-product-price-compare').append('<td class="product-description">'+product_price+'</td>');
                  $('#show-product-add-to-cart-compare').append('<td class="product-description"><a style="cursor:pointer; color:white" data-id_product="'+product_id+'" class="btn btn-primary text-uppercase add-to-cart"> + Thêm giỏ hàng</a></td>');
                  $('#delete-product-compare').append('<td class="product-description"><a class="remove-compare-product" data-product_id ="'+i+'"><i style="color:red;cursor:pointer" class="fas fa-trash"></i></a></td>');

              }
              $('.count-compare').append('('+dataCompare.length+')');
          }
      }
      showCompareProduct();
      $(document).on('click','.remove-compare-product',function(){
            let  id = $(this).data('product_id');
            let dataCompare = JSON.parse(localStorage.getItem('dataCompare'));

            dataCompare.splice(id,1);

            localStorage.setItem('dataCompare',JSON.stringify(dataCompare));

            alert('Xóa thành công');
            location.reload();
        });
</script>
<script>
    $(document).on('click','.add-compare-product-sale',function(){
        let  product_id = $(this).data('id');

        let  product_name = document.getElementById('wistlist_product_name_sale'+product_id).value;
        let  product_image_ok = document.getElementById('wistlist_product_image_sale_ok'+product_id).value;
        let  product_image = document.getElementById('wistlist_product_image_sale'+product_id).src;
        let  product_price = document.getElementById('wistlist_product_price_sale'+product_id).value;
        let  product_url = document.getElementById('wistlist_product_chitiet_sale'+product_id).href;

        let itemCompare = {
            'product_id': product_id,
            'product_name': product_name,
            'product_image': product_image,
            'product_image_ok': product_image_ok,
            'product_price' : product_price,
            'product_url' : product_url,
        }

        console.log(itemCompare);

        if(localStorage.getItem('dataCompare')==null){
            localStorage.setItem('dataCompare','[]');
        }

        let dataCompare = JSON.parse(localStorage.getItem('dataCompare'));

        let compare = $.grep(dataCompare, function(obj) {
            return obj.product_id == product_id;
        });

        if(compare.length){
            alert('Sản phẩm này bạn đã thêm vào mục so sánh, không thể thêm');
        }else {

                dataCompare.push(itemCompare);

        }
        localStorage.setItem('dataCompare', JSON.stringify(dataCompare));

        if(localStorage.getItem('dataCompare')!=null){

            let dataCompare = JSON.parse(localStorage.getItem('dataCompare'));
            let _token = $('input[name="_token"]').val();
            $.ajax({
                url: '{{url("/home/add-compare-product")}}',
                method: 'POST',
                data:{dataCompare:dataCompare,_token:_token},
                success:function(data){
                    swal({
                            title: "Đã thêm sản phẩm vào trang so sánh",
                            text: "Bạn có thể thêm sản phẩm vào trang sản phẩm hoặc tới trang so sánh sánh sản phẩm",
                            showCancelButton: true,
                            cancelButtonText: "Xem tiếp",
                            confirmButtonClass: "btn-success",
                            confirmButtonText: "Đi đến trang so sánh sản phẩm",
                            closeOnConfirm: false
                        },function() {
                            window.location.href = "{{url('/home/product/show-product-compare')}}";
                        }
                    );
                }
            });
        }
    });
</script>
<script>
    $(document).on('click','.add-compare-product',function(){
        let  product_id = $(this).data('id');

        let  product_name = document.getElementById('wistlist_product_name'+product_id).value;
        let  product_image_ok = document.getElementById('wistlist_product_image_ok'+product_id).value;
        let  product_image = document.getElementById('wistlist_product_image'+product_id).src;
        let  product_price = document.getElementById('wistlist_product_price'+product_id).value;
        let  product_url = document.getElementById('wistlist_product_chitiet'+product_id).href;

        let itemCompare = {
            'product_id': product_id,
            'product_name': product_name,
            'product_image': product_image,
            'product_image_ok': product_image_ok,
            'product_price' : product_price,
            'product_url' : product_url,
        }

        console.log(itemCompare);

        if(localStorage.getItem('dataCompare')==null){
            localStorage.setItem('dataCompare','[]');
        }

        let dataCompare = JSON.parse(localStorage.getItem('dataCompare'));

        let compare = $.grep(dataCompare, function(obj) {
            return obj.product_id == product_id;
        });

        if(compare.length){
            alert('Sản phẩm này bạn đã thêm vào mục so sánh, không thể thêm');
        }else {

                dataCompare.push(itemCompare);

        }
        localStorage.setItem('dataCompare', JSON.stringify(dataCompare));

        if(localStorage.getItem('dataCompare')!=null){

            let dataCompare = JSON.parse(localStorage.getItem('dataCompare'));
            let _token = $('input[name="_token"]').val();
            $.ajax({
                url: '{{url("/home/add-compare-product")}}',
                method: 'POST',
                data:{dataCompare:dataCompare,_token:_token},
                success:function(data){
                    swal({
                            title: "Đã thêm sản phẩm vào trang so sánh",
                            text: "Bạn có thể thêm sản phẩm vào trang sản phẩm hoặc tới trang so sánh sánh sản phẩm",
                            showCancelButton: true,
                            cancelButtonText: "Xem tiếp",
                            confirmButtonClass: "btn-success",
                            confirmButtonText: "Đi đến trang so sánh sản phẩm",
                            closeOnConfirm: false
                        },function() {
                            window.location.href = "{{url('/home/product/show-product-compare')}}";
                        }
                    );
                }
            });
        }
    });
</script>
<script type="text/javascript">
    $('#keyword').keyup(function (){
        let value = $(this).val();
        if(value != ''){
            var _token = $('input[name="_token"]').val();

            $.ajax({
                url:"{{url('/autocomplete-search')}}",
                method: "post",
                data:{value:value, _token:_token},
                success: function (data){
                    $('#search').fadeIn();
                    $('#search').html(data);
                }
            });
        }else{
            $('#search').fadeOut();
        }
    });
    $(document).on('click','li', function () {
        $('#keyword').val($(this).text());
        $('#search').fadeOut();
    });
</script>
<script type="text/javascript">
    $(document).ready(function(){
        $('.select').on('change',function(){
            var action_change = $(this).attr('id');
            var ma = $(this).val();
            var _token = $('input[name="_token"]').val();
            var result = '';
            if(action_change=='city'){
                result = 'district1';
            }else{
                result = 'ward1';
            }
            $.ajax({
                url: '{{url("/home/transport-fee/select-transport-fee")}}',
                method: 'POST',
                data: {action_change:action_change, ma:ma, _token:_token},
                success:function(data) {
                    $('#'+result).html(data);
                }
            });
        });
            $('.change-address-shipping').on('click',function(){
                let id = $(this).data('id');
                let _token = $('input[name="_token"]').val();
                $.ajax({
                    url: '{{url("/home/customer/change-address-customer")}}',
                    method: 'POST',
                    data: {id:id, _token:_token},
                    success:function(data) {
                        alert('Thay đổi địa chỉ thành công');
                        location.reload();
                    }
                });
            });
    })
</script>

<script type="text/javascript">
    $(document).ready(function(){
        $('.shipping_charges_apply').click(function(){
            var matp = $('.city').val();
            var maqh = $('.district').val();
            var maxptt = $('.ward').val();
            var _token = $('input[name="_token"]').val();
            if(matp == '' && maqh=='' && maxptt==''){
                alert('Chọn thành phố để tính phí vận chuyển')
            }else{
                $.ajax({
                    url: '{{url("/home/transport-fee/shipping_charges_apply")}}',
                    method: 'POST',
                    data: {matp:matp,maqh:maqh,maxptt:maxptt, _token:_token},
                    success:function() {
                        location.reload();
                    }
                });
            }
        });
    })
</script>
<script>
    $(document).ready(function(){
        $(".quick_view").click(function(){
            var product_id = $(this).data('product_id');
            var _token = $('input[name="_token"]').val();
            $.ajax({
                url: '{{url("/home/quick-view-product")}}',
                method: 'POST',
                dataType: 'JSON',
                data: {product_id:product_id,_token:_token},
                success:function(data) {
                    $('#product_name').html(data.product_name);
                    $('#thumb-1-quick-view').html(data.product_image);
                    $('#prev-price-quick-view').html(data.product_price);
                    $('#price-quick-view').html(data.product_price_sale);
                    $('#product_description_quick_view').html(data.product_description);
                    $('#size-first-quick-view').html(data.product_size_first);
                    $('#color-first-quick-view').html(data.product_color_first);
                    $('#size-quick-view').html(data.product_size);
                    $('#color-quick-view').html(data.product_color);
                    $('#quick-view-cart').html(data.quick_view);
                    $('#button-quick-view').html(data.button_quickview);
                }
            });
        });
    });
</script>
<script>
    $(document).ready(function(){
        $('select').niceSelect('destroy');
    })
</script>
<script type="text/javascript">
    $(document).ready(function () {
        var minus = document.getElementsByClassName("minus");
        var plus = document.getElementsByClassName("plus");
        var valueNew = 0;
        for(var i=0 ; i<plus.length; i++){
            var buttonplus = plus[i];
            buttonplus.addEventListener('click',function (event) {
                var buttonClick = event.target;
                var input = buttonClick.parentElement.children[1];
                var inputValue = input.value;

                valueNew = parseInt(inputValue) +1;

                input.value = valueNew;
            })
        }
        for(var i=0 ; i<minus.length; i++){
            var buttonminus = minus[i];

            buttonminus.addEventListener('click',function (event) {
                var buttonClick = event.target;
                var input = buttonClick.parentElement.children[1];
                var inputValue = input.value;
                var valueNew = parseInt(inputValue) -1;

                if(valueNew >= 1){
                    input.value = valueNew;
                }else{
                    alert('Bạn không thể giảm số lượng xuống 0');
                }
            })
        }
    })
</script>
<script>
    function delete_bg(product_id) {
        for(var i = 1; i<=5; i++){
            $('#'+product_id+'-'+i).css('color','#ccc');
        }
    }
    $(document).on('mouseenter','.start-rating',function () {
        var position = $(this).data("position");
        var product_id = $(this).data('product_id');

        delete_bg(product_id);

        for(var i = 1; i<=position; i++ ){
            $('#'+product_id+'-'+i).css('color','#ffcc00');
        }
    });
    $(document).on('mouseleave','.start-rating',function () {
        var product_id = $(this).data('product_id');
        var start_rating = $(this).data("start_rating");

        delete_bg(product_id);

        for(var i = 1; i<=start_rating; i++ ){
            $('#'+product_id+'-'+i).css('color','#ffcc00');
        }
    });
    $(document).on('click','.start-rating',function () {
        var position = $(this).data("position");
        var product_id = $(this).data('product_id');
        var _token = $('input[name="_token"]').val();
        $.ajax({
            url: '{{url("/home/star-rating/insert-rating")}}',
            method: 'POST',
            data: {position:position,product_id:product_id, _token:_token},
            success:function(data) {
               if(data == 'ok'){
                   location.reload();
                   alert('Bạn đã đánh giá sản phẩm'+position+"trên 5 sao");
               }else {
                   alert('Lỗi');
               }
            }
        });

    });
</script>
<script type="text/javascript">
    $(document).ready(function () {
        comment();
        function comment(){
            var product_id = $('.comment_id').val();
            var _token = $('input[name="_token"]').val();
                $.ajax({
                url: '{{url("/home/comment")}}',
                method: 'POST',
                data: {product_id:product_id, _token:_token},
                success:function(data) {
                $('#comment').html(data);
                }
            });
        }
        $('.comment_add').click(function(){
            var product_id = $('.comment_id').val();
            var comment_area = $('.comment_area').val();
            var _token = $('input[name="_token"]').val();
            $.ajax({
                url: '{{url("/home/add-comment")}}',
                method: 'POST',
                data: {product_id:product_id, comment_area:comment_area, _token:_token},
                success:function(data) {
                    comment();
            }
        });
    });
});
</script>

<script type="text/javascript">
 $(document).ready(function () {
    $("#slider-range").slider({
        range: true,
        min: 0,
        max: 1000000,
        values: [0, 1000000],
        step: 100000,
        slide: function (event, ui) {
            $("#amount").val(ui.values[0] + "đ" + " - " + ui.values[1] + "đ");
            $("#price-start").val(ui.values[0]);
            $("#price-end").val(ui.values[1]);
        },
    });
    $("#amount").val(
        $("#slider-range").slider("values", 0) +
            "đ" +
            " - " +
            $("#slider-range").slider("values", 1) +
            "đ"
    );

    /*--------------------------
         banner colse Popup
    ---------------------------*/
    $(".popup_off_banner").on("click", function () {
        $(".popup_banner").fadeOut(500);
    });
       $('#sort-product').on('change',function(){
        let urlSort = $(this).val();

        if(urlSort){
            window.location = urlSort;
        }
        return false;
       });
});
</script>
<script type="text/javascript">
// $(document).ready(function(){
//     loadProduct();
//     $(document).on("change","input[name=filter-category]",function(e){
//           e.preventDefault();

//        });
//        function loadProduct(){
//         let category = $("input[name=filter-category]:checked").map(function(){
//             return $(this).val();
//         }).get();
//         jQuery.ajaxSettings.traditional = true;
//         $.get("",
//         {
//             category: category,
//         },function(data){
//             console.log(data);
//         });
//        }
// });

</script>
</body>

</html>
